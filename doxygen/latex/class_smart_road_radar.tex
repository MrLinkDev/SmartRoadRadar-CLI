\doxysection{Smart\+Road\+Radar Class Reference}
\hypertarget{class_smart_road_radar}{}\label{class_smart_road_radar}\index{SmartRoadRadar@{SmartRoadRadar}}


Объект для взаимодействия с радаром  




{\ttfamily \#include $<$smart\+\_\+road\+\_\+radar.\+hpp$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_smart_road_radar_afaa4b7fa9189e635d5785bf63c1130bd}{Smart\+Road\+Radar}} ()=default
\begin{DoxyCompactList}\small\item\em Стандартный конструктор \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_smart_road_radar_aa38be22598c8e0eb76b240f40e3128bc}{Smart\+Road\+Radar}} (LPTSTR address)
\begin{DoxyCompactList}\small\item\em Конструктор, в который передаётся порт радара. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_smart_road_radar_a4e03c46dae52b480301492b5a2364384}{Smart\+Road\+Radar}} (LPTSTR address, \mbox{\hyperlink{structport__config}{port\+\_\+config}} config)
\begin{DoxyCompactList}\small\item\em Конструктор, в который передаётся порт радара и настройки подключения. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_a2e02fefc0c401668114ce41ec9eda7e8}{get\+\_\+firmware\+\_\+version}} (\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\+\_\+byte\+\_\+t}} \texorpdfstring{$\ast$}{*}version\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Запрос версии ПО у радара. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_a3975a1a1681946f74e24328ea10b7025}{set\+\_\+parameters}} (\mbox{\hyperlink{structparameters}{parameters}} target\+\_\+parameters)
\begin{DoxyCompactList}\small\item\em Изменение настроек радара. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_ab6ebab995997fd2d4cf91b72297c3bef}{get\+\_\+parameters}} (\mbox{\hyperlink{structparameters}{parameters}} \texorpdfstring{$\ast$}{*}received\+\_\+parameters)
\begin{DoxyCompactList}\small\item\em Чтение настроек с радара. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_ac68582d046bc01ac72bbc0dbec366deb}{set\+\_\+target\+\_\+number}} (\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\+\_\+byte\+\_\+t}} number)
\begin{DoxyCompactList}\small\item\em Установка числа целей. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_aeb34ccb7999a4f6a67eb77121c4d7a93}{get\+\_\+target\+\_\+data}} (\mbox{\hyperlink{structtarget__data}{target\+\_\+data}} \texorpdfstring{$\ast$}{*}data)
\begin{DoxyCompactList}\small\item\em Чтение данных о целях. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_a4c359504214e8d6796df36308ce344c0}{enable\+\_\+data\+\_\+transmit}} ()
\begin{DoxyCompactList}\small\item\em Запуск передачи данных. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_a955c0ffc54498e77b42323c5b6d7c858}{disable\+\_\+data\+\_\+transmit}} ()
\begin{DoxyCompactList}\small\item\em Остановка передачи данных. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_aa66f8c64c85119620bae8380b8856124}{set\+\_\+data\+\_\+transmit\+\_\+freq}} (\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\+\_\+byte\+\_\+t}} freq)
\begin{DoxyCompactList}\small\item\em Установка частоты отправки данных. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_smart_road_radar_a2d1fe3f83ba38b5a1fb0eeb76f72c906}{enable\+\_\+zero\+\_\+data\+\_\+reporting}} ()
\item 
int \mbox{\hyperlink{class_smart_road_radar_a85fb7d07156913963a6b9abd20b07e1c}{disable\+\_\+zero\+\_\+data\+\_\+reporting}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Объект для взаимодействия с радаром 

Объект содержит в себе конструкторы для инициализации подключения к радару, функции чтения и отправки кадров в радар, также, содержит функции для отправки определённых протоколом команд. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_smart_road_radar_afaa4b7fa9189e635d5785bf63c1130bd}\label{class_smart_road_radar_afaa4b7fa9189e635d5785bf63c1130bd} 
\index{SmartRoadRadar@{SmartRoadRadar}!SmartRoadRadar@{SmartRoadRadar}}
\index{SmartRoadRadar@{SmartRoadRadar}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{SmartRoadRadar()}{SmartRoadRadar()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily Smart\+Road\+Radar\+::\+Smart\+Road\+Radar (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



Стандартный конструктор 

{\bfseries{Пример\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_smart_road_radar}{SmartRoadRadar}}\ radar;}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_aa38be22598c8e0eb76b240f40e3128bc}\label{class_smart_road_radar_aa38be22598c8e0eb76b240f40e3128bc} 
\index{SmartRoadRadar@{SmartRoadRadar}!SmartRoadRadar@{SmartRoadRadar}}
\index{SmartRoadRadar@{SmartRoadRadar}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{SmartRoadRadar()}{SmartRoadRadar()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily Smart\+Road\+Radar\+::\+Smart\+Road\+Radar (\begin{DoxyParamCaption}\item[{LPTSTR}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Конструктор, в который передаётся порт радара. 

Создаётся подключение к радару со следующими параметрами\+:
\begin{DoxyItemize}
\item baud\+\_\+rate = 115200
\item byte\+\_\+size = 8
\item stop\+\_\+bits = ONESTOPBIT
\item parity = NOPARITY
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em address} & Адрес радара\\
\hline
\end{DoxyParams}
{\bfseries{Пример\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_smart_road_radar}{SmartRoadRadar}}\ radar(\textcolor{stringliteral}{"{}COM1"{}});}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_a4e03c46dae52b480301492b5a2364384}\label{class_smart_road_radar_a4e03c46dae52b480301492b5a2364384} 
\index{SmartRoadRadar@{SmartRoadRadar}!SmartRoadRadar@{SmartRoadRadar}}
\index{SmartRoadRadar@{SmartRoadRadar}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{SmartRoadRadar()}{SmartRoadRadar()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily Smart\+Road\+Radar\+::\+Smart\+Road\+Radar (\begin{DoxyParamCaption}\item[{LPTSTR}]{address,  }\item[{\mbox{\hyperlink{structport__config}{port\+\_\+config}}}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Конструктор, в который передаётся порт радара и настройки подключения. 

Создаёт подключение к радару с параметрами, которые передаются в структуре типа \doxylink{structport__config}{port\+\_\+config}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em address} & Адрес радара \\
\hline
\mbox{\texttt{ in}}  & {\em config} & Структура, содержащая в себе настройки для подключения\\
\hline
\end{DoxyParams}
{\bfseries{Пример\+:}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structport__config}{port\_config}}\ config;}
\DoxyCodeLine{config.\mbox{\hyperlink{structport__config_a110d2bd9e1e6ad1b99325072b43da5aa}{baud\_rate}}\ =\ BAUD\_115200;}
\DoxyCodeLine{config.\mbox{\hyperlink{structport__config_a1f051b2ced88656882d9cb0f17d0affe}{byte\_size}}\ =\ 8;}
\DoxyCodeLine{config.\mbox{\hyperlink{structport__config_a15dfef1d17723095f344d529498d158f}{stop\_bits}}\ =\ ONESTOPBIT;}
\DoxyCodeLine{config.\mbox{\hyperlink{structport__config_a3ced652683c9b90e2b4bb331f0ccf786}{parity}}\ =\ NOPARITY;}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{class_smart_road_radar}{SmartRoadRadar}}\ radar(\textcolor{stringliteral}{"{}COM1"{}},\ config);}

\end{DoxyCode}
 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_smart_road_radar_a955c0ffc54498e77b42323c5b6d7c858}\label{class_smart_road_radar_a955c0ffc54498e77b42323c5b6d7c858} 
\index{SmartRoadRadar@{SmartRoadRadar}!disable\_data\_transmit@{disable\_data\_transmit}}
\index{disable\_data\_transmit@{disable\_data\_transmit}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{disable\_data\_transmit()}{disable\_data\_transmit()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::disable\+\_\+data\+\_\+transmit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Остановка передачи данных. 

Функция отправляет запрос на радар об остановке передачи данных.

\begin{DoxyReturn}{Returns}
Если запрос выполнен успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.disable\_data\_transmit()\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Data\ transmit\ disabled\(\backslash\)n"{}});}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ disable\ data\ transmit\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_a85fb7d07156913963a6b9abd20b07e1c}\label{class_smart_road_radar_a85fb7d07156913963a6b9abd20b07e1c} 
\index{SmartRoadRadar@{SmartRoadRadar}!disable\_zero\_data\_reporting@{disable\_zero\_data\_reporting}}
\index{disable\_zero\_data\_reporting@{disable\_zero\_data\_reporting}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{disable\_zero\_data\_reporting()}{disable\_zero\_data\_reporting()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::disable\+\_\+zero\+\_\+data\+\_\+reporting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{class_smart_road_radar_a4c359504214e8d6796df36308ce344c0}\label{class_smart_road_radar_a4c359504214e8d6796df36308ce344c0} 
\index{SmartRoadRadar@{SmartRoadRadar}!enable\_data\_transmit@{enable\_data\_transmit}}
\index{enable\_data\_transmit@{enable\_data\_transmit}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{enable\_data\_transmit()}{enable\_data\_transmit()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::enable\+\_\+data\+\_\+transmit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Запуск передачи данных. 

Функция отправляет запрос на радар о запуске передачи данных.

\begin{DoxyReturn}{Returns}
Если запрос выполнен успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.enable\_data\_transmit()\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Data\ transmit\ enabled\(\backslash\)n"{}});}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ enable\ data\ transmit\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_a2d1fe3f83ba38b5a1fb0eeb76f72c906}\label{class_smart_road_radar_a2d1fe3f83ba38b5a1fb0eeb76f72c906} 
\index{SmartRoadRadar@{SmartRoadRadar}!enable\_zero\_data\_reporting@{enable\_zero\_data\_reporting}}
\index{enable\_zero\_data\_reporting@{enable\_zero\_data\_reporting}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{enable\_zero\_data\_reporting()}{enable\_zero\_data\_reporting()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::enable\+\_\+zero\+\_\+data\+\_\+reporting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{class_smart_road_radar_a2e02fefc0c401668114ce41ec9eda7e8}\label{class_smart_road_radar_a2e02fefc0c401668114ce41ec9eda7e8} 
\index{SmartRoadRadar@{SmartRoadRadar}!get\_firmware\_version@{get\_firmware\_version}}
\index{get\_firmware\_version@{get\_firmware\_version}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{get\_firmware\_version()}{get\_firmware\_version()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::get\+\_\+firmware\+\_\+version (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\+\_\+byte\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{version\+\_\+buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Запрос версии ПО у радара. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em version\+\_\+buffer} & Указатель на буфер типа u\+\_\+byte\+\_\+t\mbox{[}3\mbox{]}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Если запрос выполнен успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\_byte\_t}}\ version\_buffer[3];}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.get\_firmware\_version(version\_buffer)\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Firmware\ version:\ V\%d.\%d.\%d\(\backslash\)n"{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{int})\ version\_buffer[0],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{int})\ version\_buffer[1],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{int})\ version\_buffer[2]);}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ get\ firmware\ version\ from\ radar\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_ab6ebab995997fd2d4cf91b72297c3bef}\label{class_smart_road_radar_ab6ebab995997fd2d4cf91b72297c3bef} 
\index{SmartRoadRadar@{SmartRoadRadar}!get\_parameters@{get\_parameters}}
\index{get\_parameters@{get\_parameters}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{get\_parameters()}{get\_parameters()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::get\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structparameters}{parameters}} \texorpdfstring{$\ast$}{*}}]{received\+\_\+parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Чтение настроек с радара. 

При получении кадра данных от радара, функция выделяет из принятого кадра настройки радара и записывает их в структуру по переданному указателю.

\begin{DoxyWarning}{Warning}
Приходящие от радара минимальное и максимальное расстояния перепутаны местами. Также перепутаны местами и минимальная и максимальная скорости.
\end{DoxyWarning}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em received\+\_\+parameters} & Указатель на структуру, в которую будут записаны принятые значения \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Если запрос настроек выполнен успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK/ В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structparameters}{parameters}}\ received\_parameters;}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.get\_parameters(\&received\_parameters)\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Min\ distance\ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_abf61e6b0aebd4f8a1bb759999ae4820b}{min\_dist}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Max\ distance\ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_a5cce04e60033009e1c789713624d9ab0}{max\_dist}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Min\ speed\ \ \ \ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_af3dd3caff17f6a7c5ff02265c66a890e}{min\_speed}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Max\ speed\ \ \ \ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_ac863cbc146e1fd27f0b853d757346ac5}{max\_speed}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Min\ angle\ \ \ \ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_ad6991b63b32058dbd1228fc47e7ce7d7}{min\_angle}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}max\ angle\ \ \ \ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_ac27388a3ab29077c4a35a57c39395546}{max\_angle}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Left\ border\ \ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_a0c2b999fd504fbe696a9fcaa62a655aa}{left\_border}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Right\ border\ =\ \%f\(\backslash\)n"{}},\ received\_parameters.\mbox{\hyperlink{structparameters_a7c24e021bde3819ffcca5c6cb29e98ed}{right\_border}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}});}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ get\ parameters\ from\ radar\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_aeb34ccb7999a4f6a67eb77121c4d7a93}\label{class_smart_road_radar_aeb34ccb7999a4f6a67eb77121c4d7a93} 
\index{SmartRoadRadar@{SmartRoadRadar}!get\_target\_data@{get\_target\_data}}
\index{get\_target\_data@{get\_target\_data}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{get\_target\_data()}{get\_target\_data()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::get\+\_\+target\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtarget__data}{target\+\_\+data}} \texorpdfstring{$\ast$}{*}}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Чтение данных о целях. 

Функция преобразует полученные кадры в структуры \doxylink{structtarget__data}{target\+\_\+data}, которые записываются в массив по переданному указателю


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em data} & Указатель на массив структур \doxylink{structtarget__data}{target\+\_\+data}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Если чтение кадра выполнено успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structtarget__data}{target\_data}}\ data[35];}
\DoxyCodeLine{}
\DoxyCodeLine{printf(\textcolor{stringliteral}{"{}\ \#\ |\ \ dist\ \ |\ \ \ speed\ \ |\ \ angle\ \ \(\backslash\)n"{}});}
\DoxyCodeLine{printf(\textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\(\backslash\)n"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.get\_target\_data(data)\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ target\_count;\ ++i)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)r\%2d\ |\ \%2.2f\ m\ |\ \%2.2f\ m/s\ |\ \%2.2f\ deg\(\backslash\)n"{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[i].num,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[i].distance,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[i].speed,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data[i].angle);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ data[i]\ =\ \mbox{\hyperlink{structtarget__data}{target\_data}}\{\};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_aa66f8c64c85119620bae8380b8856124}\label{class_smart_road_radar_aa66f8c64c85119620bae8380b8856124} 
\index{SmartRoadRadar@{SmartRoadRadar}!set\_data\_transmit\_freq@{set\_data\_transmit\_freq}}
\index{set\_data\_transmit\_freq@{set\_data\_transmit\_freq}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{set\_data\_transmit\_freq()}{set\_data\_transmit\_freq()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::set\+\_\+data\+\_\+transmit\+\_\+freq (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\+\_\+byte\+\_\+t}}}]{freq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Установка частоты отправки данных. 

Функция устанавливает частоту передаваемы данных, которая передаётся в качестве аргумента. Возможные варианты частоты\+:
\begin{DoxyItemize}
\item DATA\+\_\+\+FREQ\+\_\+1 -\/ один раз в секунду
\item DATA\+\_\+\+FREQ\+\_\+2 -\/ два раза в секунду
\item DATA\+\_\+\+FREQ\+\_\+3 -\/ три раза в секунду
\item DATA\+\_\+\+FREQ\+\_\+4 -\/ четыре раза в секунду
\item DATA\+\_\+\+FREQ\+\_\+5 -\/ пять раз в секунду
\item DATA\+\_\+\+FREQ\+\_\+10 -\/ десять раз в секунду
\item DATA\+\_\+\+FREQ\+\_\+15 -\/ пятнадцать раз в секунду
\item DATA\+\_\+\+FREQ\+\_\+20 -\/ двадцать раз в секунду
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em freq} & Частота передаваемых данных\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Если запрос выполнен успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\_byte\_t}}\ data\_freq\ =\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_aca105d80c88c1cfee26c72f0e5703dc1}{DATA\_FREQ\_1}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.set\_data\_transmit\_freq(data\_freq)\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Frequency\ value\ uploaded\ into\ radar\(\backslash\)n"{}});}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ upload\ frequency\ value\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_a3975a1a1681946f74e24328ea10b7025}\label{class_smart_road_radar_a3975a1a1681946f74e24328ea10b7025} 
\index{SmartRoadRadar@{SmartRoadRadar}!set\_parameters@{set\_parameters}}
\index{set\_parameters@{set\_parameters}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{set\_parameters()}{set\_parameters()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::set\+\_\+parameters (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structparameters}{parameters}}}]{target\+\_\+parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Изменение настроек радара. 

Желаемые настроки передаются в структуре parameters.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em target\+\_\+parameters} & Требуемые настройки радара \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Если изменение настроек прошло успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structparameters}{parameters}}\ target\_parameters;}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (*args\ !=\ \textcolor{stringliteral}{"{}default"{}})\ \{}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_abf61e6b0aebd4f8a1bb759999ae4820b}{min\_dist}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ \ \ \ =\ 0.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_a5cce04e60033009e1c789713624d9ab0}{max\_dist}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ \ \ \ =\ 13.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_af3dd3caff17f6a7c5ff02265c66a890e}{min\_speed}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ \ \ =\ 0.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_ac863cbc146e1fd27f0b853d757346ac5}{max\_speed}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ \ \ =\ 5.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_ad6991b63b32058dbd1228fc47e7ce7d7}{min\_angle}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ \ \ =\ -\/60.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_ac27388a3ab29077c4a35a57c39395546}{max\_angle}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ \ \ =\ 60.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_a0c2b999fd504fbe696a9fcaa62a655aa}{left\_border}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ \ =\ -\/6.0f;}
\DoxyCodeLine{\ \ \ \ target\_parameters.\mbox{\hyperlink{structparameters_a7c24e021bde3819ffcca5c6cb29e98ed}{right\_border}}.\mbox{\hyperlink{structparameters_a2382032b45a30b806eb318a0c6f02836}{f}}\ =\ 6.0f;}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.set\_parameters(target\_parameters)\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Parameters\ are\ loaded\(\backslash\)n"{}});}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ load\ parameters\ into\ radar\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \Hypertarget{class_smart_road_radar_ac68582d046bc01ac72bbc0dbec366deb}\label{class_smart_road_radar_ac68582d046bc01ac72bbc0dbec366deb} 
\index{SmartRoadRadar@{SmartRoadRadar}!set\_target\_number@{set\_target\_number}}
\index{set\_target\_number@{set\_target\_number}!SmartRoadRadar@{SmartRoadRadar}}
\doxysubsubsection{\texorpdfstring{set\_target\_number()}{set\_target\_number()}}
{\footnotesize\ttfamily int Smart\+Road\+Radar\+::set\+\_\+target\+\_\+number (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\+\_\+byte\+\_\+t}}}]{number }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Установка числа целей. 

Функция, позволяющая задать количество целей, которые будут распознаваться радаром.

\begin{DoxyWarning}{Warning}
Возможно, не количество целей, а максимальный номер цели 
\end{DoxyWarning}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em number} & Количество целей\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Если команда выполнена успешно, то возвращает SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+OK. В противном случае -\/ SMART\+\_\+\+ROAD\+\_\+\+RADAR\+\_\+\+ERROR.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{utils_8hpp_aef3662a5e2b349ba1b8498db3aa36a27}{u\_byte\_t}}\ target\_num\ =\ std::stoi(num);}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (radar.set\_target\_number(target\_num)\ ==\ \mbox{\hyperlink{smart__road__radar__utils_8hpp_a19cd20d00719b9df76dc42a44fc45371}{SMART\_ROAD\_RADAR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Target\ number\ inserted\(\backslash\)n"{}});}
\DoxyCodeLine{\}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ printf(\textcolor{stringliteral}{"{}Can't\ insert\ target\ number\ into\ radar\(\backslash\)n"{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{smart__road__radar_8hpp}{smart\+\_\+road\+\_\+radar.\+hpp}}\end{DoxyCompactItemize}
